{"analyzedAt":"2021-08-09T05:15:25.164Z","collected":{"metadata":{"name":"ember-cli-sri","scope":"unscoped","version":"2.1.1","description":"SRI generation for Ember CLI","keywords":["ember-addon","SRI","infosec","security"],"date":"2016-08-10T15:09:49.373Z","author":{"name":"Jonathan Kingston"},"publisher":{"username":"stefanpenner","email":"stefan.penner@gmail.com"},"maintainers":[{"username":"jonathankingston","email":"jonathan@jooped.co.uk"},{"username":"rwjblue","email":"me@rwjblue.com"},{"username":"stefanpenner","email":"stefan.penner@gmail.com"}],"repository":{"type":"git","url":"git+https://github.com/jonathanKingston/ember-cli-sri.git"},"links":{"npm":"https://www.npmjs.com/package/ember-cli-sri","homepage":"https://github.com/jonathanKingston/ember-cli-sri#readme","repository":"https://github.com/jonathanKingston/ember-cli-sri","bugs":"https://github.com/jonathanKingston/ember-cli-sri/issues"},"license":"MIT","dependencies":{"broccoli-sri-hash":"^2.1.0"},"devDependencies":{"broccoli-asset-rev":"^2.1.2","ember-cli":"1.13.8","ember-cli-app-version":"0.5.0","ember-cli-babel":"^5.1.3","ember-cli-content-security-policy":"0.4.0","ember-cli-dependency-checker":"^1.0.1","ember-cli-htmlbars":"0.7.9","ember-cli-htmlbars-inline-precompile":"^0.2.0","ember-cli-ic-ajax":"0.2.1","ember-cli-inject-live-reload":"^1.3.1","ember-cli-qunit":"^1.0.0","ember-cli-release":"0.2.3","ember-cli-uglify":"^1.2.0","ember-disable-proxy-controllers":"^1.0.0","ember-export-application-global":"^1.0.3","ember-disable-prototype-extensions":"^1.0.0","ember-try":"0.0.6"},"releases":[{"from":"2021-07-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2021-05-11T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2021-02-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2020-08-09T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2019-08-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0}],"hasTestScript":true,"hasSelectiveFiles":true,"readme":"# Ember-cli-sri\n[![build status](https://secure.travis-ci.org/jonathanKingston/ember-cli-sri.svg)](http://travis-ci.org/jonathanKingston/ember-cli-sri)\n[![npm status](http://img.shields.io/npm/v/ember-cli-sri.svg)](https://www.npmjs.org/package/ember-cli-sri)\n[![dependency status](https://david-dm.org/jonathanKingston/ember-cli-sri.svg)](https://david-dm.org/jonathanKingston/ember-cli-sri)\n\n## What is it\nThis plugin is used to generate [Subresource Integrity (SRI)](http://www.w3.org/TR/SRI/) hashes for ember applications.\nSubresource integrity is a security concept used to check JavaScript and stylesheets are loaded with the correct content when using a CDN.\n\n## Why\nThe reason to add this to your application is to protect against poisoned CDNs breaking JavaScript or CSS subresources.\n\n- [JavaScript DDoS prevention](https://blog.cloudflare.com/an-introduction-to-javascript-based-ddos/)\n  - The latest [GitHub DDoS attack](http://googleonlinesecurity.blogspot.co.uk/2015/04/a-javascript-based-ddos-attack-as-seen.html)\n- Protection against corrupted code on less trusted servers\n\n## Installation\n\n* `ember install ember-cli-sri`\n\n## Configure\n\nIn `Brocfile.js` or `ember-cli-build.js`:\n```js\nvar app = new EmberApp({\n});\n```\n\n- Without fingerprinting Ember will default to using relative URLs\n- All relative paths will be given an integrity attribute which will make compliant browsers check content matches\n\nOr:\n```js\nvar app = new EmberApp({\n  SRI: {\n    crossorigin: 'anonymous'\n  },\n  fingerprint: {\n    prepend: 'https://subdomain.cloudfront.net/'\n  }\n});\n```\n\n- If your applications origin is different to where your subresources load from you will need to use CORS\n- Your subresources will need to be served with CORS headers\n- You will need to specify `SRI.crossorigin`\n\nOr:\n```js\nvar app = new EmberApp({\n  origin: 'https://subdomain.cloudfront.net/',\n  fingerprint: {\n    prepend: 'https://subdomain.cloudfront.net/'\n  }\n});\n```\n\n- If you like absolute URLs in your HTML then let the addon know by specifying a `origin` attribute\n\n### Options\n\n- **origin** - set to the URL the Ember app is served from (Example: https://example.com)\n- **SRI**\n  - **crossorigin** - adds a crossorigin attribute to script and link elements\n      - This is **required** for CORS resources, values are:\n          - `use-credentials`\n          - `anonymous`\n  - **runsIn** - default: ['production', 'test']\n  - **enabled** - default: true\n  - **paranoiaCheck** - default: false\n  - **fingerprintCheck** - default: false\n- **fingerprint**\n  - **prepend** - resources with a full path will only get an applied integrity if the md5 checksum passes\n\n## Example output\n\n```html\n<script src=\"https://example.com/thing-5e1978f9cfa158d9841d7b6d8a4e5c57.js\" integrity=\"sha256-oFeuE/P+XJMjkMS5pAPudQOMGJQ323nQt+DQ+9zbdAg= sha512-+EXjzt0I7g6BjvqqjkkboGyRlFSfIuyzY2SQ43HQKZBrHsjmRzEdjSHhiDzVs30nXL9H0tKw6WbMPc6RfzUumQ==\" crossorigin=\"anonymous\" /></script>\n<script src=\"https://example.com/thing-5e1978f9cfa158d9841d7b6d8a4e5c57.js\" crossorigin=\"use-credentials\"  integrity=\"sha256-oFeuE/P+XJMjkMS5pAPudQOMGJQ323nQt+DQ+9zbdAg= sha512-+EXjzt0I7g6BjvqqjkkboGyRlFSfIuyzY2SQ43HQKZBrHsjmRzEdjSHhiDzVs30nXL9H0tKw6WbMPc6RfzUumQ==\"/></script>\n<script src=\"unicode-chars.js\" integrity=\"sha256-TH5eRuwfOSKZE0EKVF4WZ6gVQ/zUch4CZE2knqpS4MU= sha512-eANuTl8NOQEa4/zm44zxX6g7ffwf6NXftA2sv4ZiQURnJsfJkUnYP8XpN2XVVZee4SjB32i28WM6trs9HVgQmA==\"/></script>\n```\n\n## Fail safe\n\nThis addon should fail safely at all times so resources matching `https?` need:\n\n- Asset URL needs to start with `fingerprint.prepend`\n- Asset must use fingerprinting with md5\n- Asset must match md5 sum to what is in the filesystem\n- An `SRI.crossorigin` attribute must be set or a matching `origin` to `fingerprint.prepend`\n\nIf the config is not set correctly it should result in just a lack of SRI protection, which is better than a broken website.\n\nPlease file bugs if you find a case when the config doesn't 'fail safe', is not clear or results in a broken page.\n\n## Gotchas\n\n- If your Ember application is **NOT** being loaded on the same origin as in `fingerprint.prepend`:\n  - The `fingerprint.prepend` domain will need to be serving [CORS Headers](http://www.w3.org/TR/cors/)\n\n- If your Ember application **is** being loaded on the same origin as in `fingerprint.prepend`:\n  - Setting the crossorigin attribute isn't advised unless origin is serving [CORS Headers](http://www.w3.org/TR/cors/)\n\n- In code that uses SRI, you **MUST NOT** tamper with the built output JavaScript files as code will not load.\n\n## Crossorigin attribute\n\nWhen the request doesn't match Same Origin Policy the [crossorigin attribute](https://html.spec.whatwg.org/multipage/infrastructure.html#cors-settings-attribute) **MUST** be present for the integrity of the file to be checked.\nWith an integrity set on an external origin and a missing crossorigin the browser will choose to 'fail-open' which means it will load the resource as if the integrity attribute was not set.\n\nValues:\n\n- **anonymous** - A cross-origin request (i.e., with Origin: HTTP header) is performed. But no credentials are sent (i.e., no cookie, no X.509 certificate, and no HTTP Basic authentication is sent). If the server does not give credentials to the origin site (by not setting the Access-Control-Allow-Origin: HTTP header), the resource will be tainted and its usage restricted.\n- **use-credentials** - A cross-origin request (i.e., with Origin: HTTP header) performed with credentials (i.e., a cookie, a certificate, and HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through Access-Control-Allow-Credentials: HTTP header), the resource will be tainted and its usage restricted.\n\n## 'Fail-open' vs 'Fail-close'\n\n- The current implementation in Chrome 'fails-open' resources that don't set the correct `crossorigin` attribute, this will be changed to 'fail-close' which is simpler to debug.\n- Browsers will still however 'fail-open' on cross origin resources that don't match the integrity attribute but don't send the correct CORS headers.\n  - This is because an attacker could check the integrity of authenticated only files or files behind a firewall.\n- Browsers that don't support integrity checking will fail-open so it is a safe property to use if configured correctly.\n\n### 'paranoiaCheck'\n\nThere was an encoding issue based on certain characters when using Chrome, the fix for which [landed](https://code.google.com/p/chromium/issues/detail?id=527286) in Chrome 46.\nThis check fails if there is any non ASCII characters. On failure the file won't have an integrity attribute added.\nCurrently, it defaults to false (i.e. this check is disabled). You can reenable it if you wish to remain compatible with\nversions of Chrome &lt; 46.\n\n### 'fingerprintCheck'\n\nIf you are fingerprinting your assets and/or prepending a URL (e.g. to your static web server or CDN), you will likely want\nto disable this check. Otherwise, if your assets include other assets, they will fail the check and the file won't have an\nintegrity attribute added.\nCurrently, it defaults to false (i.e. this check is disabled). You can reenable it for a little extra confidence that the\ncorrect files are being hashed, but only if you are not fingerprinting or prepending your assets and have no plans to in the\nfuture.\n\n## Browser support\n\n- Chrome 46\n- Firefox 43\n\nNotes:\n- Please verify Ember applications in supporting browsers, paying close attention to console messages\n- No known formal objections to the specification\n\n## Running Tests\n\n* `npm test`"},"npm":{"downloads":[{"from":"2021-08-08T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2021-08-02T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":88898},{"from":"2021-07-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":383239},{"from":"2021-05-11T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":1268079},{"from":"2021-02-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":2893726},{"from":"2020-08-09T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":5365795}],"dependentsCount":3,"starsCount":0},"github":{"starsCount":47,"forksCount":15,"subscribersCount":4,"issues":{"count":34,"openCount":11,"distribution":{"3600":3,"10800":1,"32400":4,"97200":5,"291600":1,"874800":2,"2624400":3,"7873200":3,"23619600":1,"70858800":1,"212576400":10},"isDisabled":false},"contributors":[{"username":"taylon","commitsCount":1},{"username":"rwjblue","commitsCount":10},{"username":"alobaidizt","commitsCount":1},{"username":"mwpastore","commitsCount":1},{"username":"ember-tomster","commitsCount":1},{"username":"jonathanKingston","commitsCount":35}],"commits":[{"from":"2021-08-02T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2021-07-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2021-05-11T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2021-02-10T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0},{"from":"2020-08-09T00:00:00.000Z","to":"2021-08-09T00:00:00.000Z","count":0}],"statuses":[{"context":"continuous-integration/travis-ci/push","state":"success"},{"context":"continuous-integration/appveyor/branch","state":"success"}]},"source":{"files":{"readmeSize":7595,"testsSize":5788,"hasChangelog":true},"badges":[{"urls":{"original":"https://secure.travis-ci.org/jonathanKingston/ember-cli-sri.svg","service":"https://api.travis-ci.org/jonathanKingston/ember-cli-sri.svg","shields":"https://img.shields.io/travis/jonathanKingston/ember-cli-sri.svg","content":"https://img.shields.io/travis/jonathanKingston/ember-cli-sri.json"},"info":{"service":"travis","type":"build"}},{"urls":{"original":"http://img.shields.io/npm/v/ember-cli-sri.svg","shields":"https://img.shields.io/npm/v/ember-cli-sri.svg","content":"https://img.shields.io/npm/v/ember-cli-sri.json"},"info":{"service":"npm","type":"version","modifiers":{"type":"v"}}},{"urls":{"original":"https://david-dm.org/jonathanKingston/ember-cli-sri.svg","service":"https://david-dm.org/jonathanKingston/ember-cli-sri.svg","shields":"https://img.shields.io/david/jonathanKingston/ember-cli-sri.svg","content":"https://img.shields.io/david/jonathanKingston/ember-cli-sri.json"},"info":{"service":"david","type":"dependencies","modifiers":{"statusType":"normal"}}}],"linters":["editorconfig","jshint"]}},"evaluation":{"quality":{"carefulness":0.9999999999999999,"tests":0.85,"health":1,"branding":0.44999999999999996},"popularity":{"communityInterest":72,"downloadsCount":422693,"downloadsAcceleration":-137.6818873668185,"dependentsCount":3},"maintenance":{"releasesFrequency":0.9,"commitsFrequency":0.9,"openIssues":0.9,"issuesDistribution":0.9}},"score":{"final":0.7009728514164948,"detail":{"quality":0.9783863377025781,"popularity":0.16429751929327457,"maintenance":0.9998651952945008}}}