{"analyzedAt":"2021-09-01T03:24:11.901Z","collected":{"metadata":{"name":"gatsby-transformer-json","scope":"unscoped","version":"3.13.0","description":"Gatsby transformer plugin for JSON files","keywords":["gatsby","gatsby-plugin","json"],"date":"2021-08-31T18:15:46.206Z","author":{"name":"Kyle Mathews","email":"mathews.kyle@gmail.com","username":"kylemathews"},"publisher":{"username":"vladar","email":"vladimir.razuvaev@gmail.com"},"maintainers":[{"username":"dschau","email":"dustinschau@gmail.com"},{"username":"jamo","email":"jamo@isotalo.fi"},{"username":"kylemathews","email":"mathews.kyle@gmail.com"},{"username":"pieh","email":"misiek.piechowiak@gmail.com"},{"username":"sidharthachatterjee","email":"me@sidharthachatterjee.com"},{"username":"wardpeet","email":"ward@coding-tech.com"},{"username":"vladar","email":"vladimir.razuvaev@gmail.com"},{"username":"tylerbarnes","email":"tyler@known.design"},{"username":"fk","email":"sechskilo@gmail.com"},{"username":"smthomas","email":"shane@codekarate.com"},{"username":"lekoarts","email":"lekoarts@gmail.com"},{"username":"rachelbahl","email":"rachel@gatsbyjs.com"},{"username":"daniellewgatsby","email":"daniel.lew@gatsbyjs.com"},{"username":"veryspry","email":"ehlinger.matt@gmail.com"},{"username":"abhiaiyer","email":"abhiaiyer91+npm@gmail.com"},{"username":"freiksenet","email":"freiksenet@gmail.com"},{"username":"monastic.panic","email":"monastic.panic@gmail.com"},{"username":"m-allanson","email":"michael.allanson@gmail.com"},{"username":"moocar","email":"anthony@moocar.me"}],"repository":{"type":"git","url":"git+https://github.com/gatsbyjs/gatsby.git","directory":"packages/gatsby-transformer-json"},"links":{"npm":"https://www.npmjs.com/package/gatsby-transformer-json","homepage":"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-json#readme","repository":"https://github.com/gatsbyjs/gatsby","bugs":"https://github.com/gatsbyjs/gatsby/issues"},"license":"MIT","dependencies":{"@babel/runtime":"^7.14.8","bluebird":"^3.7.2"},"devDependencies":{"@babel/cli":"^7.14.8","@babel/core":"^7.14.8","babel-preset-gatsby-package":"^1.13.0","cross-env":"^7.0.3"},"peerDependencies":{"gatsby":"^3.0.0-next.0"},"releases":[{"from":"2021-08-02T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":11},{"from":"2021-06-03T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":23},{"from":"2021-03-05T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":38},{"from":"2020-09-01T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":64},{"from":"2019-09-02T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":99}],"readme":"# gatsby-transformer-json\n\nParses raw JSON strings into JavaScript objects e.g. from JSON files. Supports\narrays of objects and single objects.\n\n## Install\n\n`npm install gatsby-transformer-json`\n\nIf you want to transform json files, you also need to have `gatsby-source-filesystem` installed and configured so it\npoints to your files.\n\n## How to use\n\nIn your `gatsby-config.js`:\n\n```javascript\nmodule.exports = {\n  plugins: [\n    `gatsby-transformer-json`,\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        path: `./src/data/`,\n      },\n    },\n  ],\n}\n```\n\n## Parsing algorithm\n\nYou can choose to structure your data as arrays of objects in individual files\nor as single objects spread across multiple files.\n\n### Array of Objects\n\nThe algorithm for arrays is to convert each item in the array into a node.\n\nSo if your project has a `letters.json` with\n\n```json\n[{ \"value\": \"a\" }, { \"value\": \"b\" }, { \"value\": \"c\" }]\n```\n\nThen the following three nodes would be created:\n\n```json\n[{ \"value\": \"a\" }, { \"value\": \"b\" }, { \"value\": \"c\" }]\n```\n\n### Single Object\n\nThe algorithm for single JSON objects is to convert the object defined at the\nroot of the file into a node. The type of the node is based on the name of the\nparent directory.\n\nFor example, let's say your project has a data layout like:\n\n```text\ndata/\n    letters/\n        a.json\n        b.json\n        c.json\n```\n\nWhere each of `a.json`, `b.json` and `c.json` look like:\n\n```json\n{ \"value\": \"a\" }\n```\n\n```json\n{ \"value\": \"b\" }\n```\n\n```json\n{ \"value\": \"c\" }\n```\n\nThen the following three nodes would be created:\n\n```json\n[\n  {\n    \"value\": \"a\"\n  },\n  {\n    \"value\": \"b\"\n  },\n  {\n    \"value\": \"c\"\n  }\n]\n```\n\n## How to query\n\nRegardless of whether you choose to structure your data in arrays of objects or\nsingle objects, you'd be able to query your letters like:\n\n```graphql\n{\n  allLettersJson {\n    edges {\n      node {\n        value\n      }\n    }\n  }\n}\n```\n\nWhich would return:\n\n```javascript\n{\n  allLettersJson: {\n    edges: [\n      {\n        node: {\n          value: \"a\",\n        },\n      },\n      {\n        node: {\n          value: \"b\",\n        },\n      },\n      {\n        node: {\n          value: \"c\",\n        },\n      },\n    ]\n  }\n}\n```\n\n## Configuration options\n\n**`typeName`** [string|function][optional]\n\nThe default naming convention documented above can be changed with\neither a static string value (e.g. to be able to query all json with a\nsimple query):\n\n```javascript\nmodule.exports = {\n  plugins: [\n    {\n      resolve: `gatsby-transformer-json`,\n      options: {\n        typeName: `Json`, // a fixed string\n      },\n    },\n  ],\n}\n```\n\n```graphql\n{\n  allJson {\n    edges {\n      node {\n        value\n      }\n    }\n  }\n}\n```\n\nor a function that receives the following arguments:\n\n- `node`: the graphql node that is being processed, e.g. a File node with\n  json content\n- `object`: a single object (either an item from an array or the whole json content)\n- `isArray`: boolean, true if `object` is part of an array\n\n```json\n[\n  {\n    \"level\": \"info\",\n    \"message\": \"hurray\"\n  },\n  {\n    \"level\": \"info\",\n    \"message\": \"it works\"\n  },\n  {\n    \"level\": \"warning\",\n    \"message\": \"look out\"\n  }\n]\n```\n\n```javascript\nmodule.exports = {\n  plugins: [\n    {\n      resolve: `gatsby-transformer-json`,\n      options: {\n        typeName: ({ node, object, isArray }) => object.level,\n      },\n    },\n  ],\n}\n```\n\n```graphql\n{\n  allInfo {\n    edges {\n      node {\n        message\n      }\n    }\n  }\n}\n```\n\n## Examples\n\nThe [gatsbygram example site](https://github.com/gatsbyjs/gatsby/blob/master/examples/gatsbygram/gatsby-node.js) uses this plugin.\n\n## Troubleshooting\n\nIf some fields are missing or you see the error on build:\n\n> There are conflicting field types in your data. GraphQL schema will omit those fields.\n\nIt's probably because you have arrays of mixed values somewhere. For instance:\n\n```json\n{\n  \"stuff\": [25, \"bob\"],\n  \"orEven\": [\n    [25, \"bob\"],\n    [23, \"joe\"]\n  ]\n}\n```\n\nIf you can rewrite your data with objects, you should be good to go:\n\n```json\n{\n  \"stuff\": [{ \"count\": 25, \"name\": \"bob\" }],\n  \"orEven\": [\n    { \"count\": 25, \"name\": \"bob\" },\n    { \"count\": 23, \"name\": \"joe\" }\n  ]\n}\n```\n\nElse, if your data doesn't have a consistent schema, like [TopoJSON files](https://en.wikipedia.org/wiki/GeoJSON#TopoJSON), or you can't rewrite it, consider placing the JSON file inside the [`static` folder](/docs/static-folder/#when-to-use-the-static-folder) and use the dynamic import syntax (`import('/static/myjson.json')`) within the `componentDidMount` lifecycle or the `useEffect` hook."},"npm":{"downloads":[{"from":"2021-08-31T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":0},{"from":"2021-08-25T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":22708},{"from":"2021-08-02T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":141299},{"from":"2021-06-03T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":492940},{"from":"2021-03-05T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":1096869},{"from":"2020-09-01T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":2210298}],"dependentsCount":93,"starsCount":1},"github":{"homepage":"https://www.gatsbyjs.com","starsCount":51197,"forksCount":9856,"subscribersCount":880,"issues":{"count":31524,"openCount":454,"distribution":{"3600":4955,"10800":2806,"32400":2892,"97200":4592,"291600":4059,"874800":3494,"2624400":2651,"7873200":3050,"23619600":2028,"70858800":957,"212576400":40},"isDisabled":false},"contributors":[{"username":"axe312ger","commitsCount":64},{"username":"nihgwu","commitsCount":30},{"username":"ascorbic","commitsCount":240},{"username":"devrchancay","commitsCount":13},{"username":"ThomasWang","commitsCount":17},{"username":"abhiaiyer91","commitsCount":13},{"username":"caitlinthefirst","commitsCount":16},{"username":"davidbailey00","commitsCount":67},{"username":"resir014","commitsCount":17},{"username":"hashimwarren","commitsCount":51},{"username":"shannonbux","commitsCount":268},{"username":"amberleyromo","commitsCount":112},{"username":"Khaledgarbaya","commitsCount":27},{"username":"jbolda","commitsCount":22},{"username":"Simply007","commitsCount":14},{"username":"ooloth","commitsCount":18},{"username":"fabien0102","commitsCount":13},{"username":"polarathene","commitsCount":12},{"username":"arcanis","commitsCount":23},{"username":"tesseralis","commitsCount":158},{"username":"me4502","commitsCount":16},{"username":"renovate[bot]","commitsCount":116},{"username":"daydream05","commitsCount":16},{"username":"smthomas","commitsCount":12},{"username":"Slashgear","commitsCount":17},{"username":"scottyeck","commitsCount":20},{"username":"KyleAMathews","commitsCount":2980},{"username":"LekoArts","commitsCount":379},{"username":"ChangoMan","commitsCount":12},{"username":"0x80","commitsCount":32},{"username":"coreyward","commitsCount":13},{"username":"sasurau4","commitsCount":12},{"username":"TylerBarnes","commitsCount":67},{"username":"greglobinski","commitsCount":21},{"username":"alexandernanberg","commitsCount":25},{"username":"erquhart","commitsCount":19},{"username":"jbampton","commitsCount":76},{"username":"oorestisime","commitsCount":26},{"username":"duffn","commitsCount":23},{"username":"fk","commitsCount":217},{"username":"kawamataryo","commitsCount":13},{"username":"jamo","commitsCount":56},{"username":"johno","commitsCount":75},{"username":"Ekwuno","commitsCount":22},{"username":"lannonbr","commitsCount":89},{"username":"herecydev","commitsCount":23},{"username":"jquense","commitsCount":110},{"username":"wardpeet","commitsCount":444},{"username":"muescha","commitsCount":301},{"username":"cassiebeckley","commitsCount":16},{"username":"webinista","commitsCount":23},{"username":"dandv","commitsCount":21},{"username":"vladar","commitsCount":235},{"username":"meganesu","commitsCount":38},{"username":"jlengstorf","commitsCount":47},{"username":"laurieontech","commitsCount":150},{"username":"madalynrose","commitsCount":16},{"username":"docwhat","commitsCount":14},{"username":"Moocar","commitsCount":51},{"username":"benjaminhoffman","commitsCount":14},{"username":"sebastienfi","commitsCount":35},{"username":"mottox2","commitsCount":64},{"username":"mathieudutour","commitsCount":13},{"username":"mgienow","commitsCount":84},{"username":"dennari","commitsCount":12},{"username":"ChristopherBiscardi","commitsCount":186},{"username":"stefanprobst","commitsCount":138},{"username":"pieh","commitsCount":842},{"username":"mxstbr","commitsCount":96},{"username":"DanielSLew","commitsCount":20},{"username":"gillkyle","commitsCount":107},{"username":"calcsam","commitsCount":133},{"username":"pvdz","commitsCount":240},{"username":"janosh","commitsCount":22},{"username":"m-allanson","commitsCount":354},{"username":"kripod","commitsCount":15},{"username":"ehowey","commitsCount":16},{"username":"CanRau","commitsCount":18},{"username":"elrumordelaluz","commitsCount":13},{"username":"ollelauribostrom","commitsCount":13},{"username":"benstepp","commitsCount":27},{"username":"iamtraction","commitsCount":9},{"username":"DSchau","commitsCount":354},{"username":"NickyMeuleman","commitsCount":14},{"username":"szimek","commitsCount":12},{"username":"blainekasten","commitsCount":95},{"username":"gesposito","commitsCount":13},{"username":"moonmeister","commitsCount":27},{"username":"sidharthachatterjee","commitsCount":433},{"username":"tsriram","commitsCount":29},{"username":"abhishekjakhar","commitsCount":33},{"username":"hoobdeebla","commitsCount":23},{"username":"marcysutton","commitsCount":24},{"username":"freiksenet","commitsCount":119},{"username":"kkemple","commitsCount":26},{"username":"anubhavsrivastava","commitsCount":16},{"username":"avigoldman","commitsCount":31},{"username":"MichaelDeBoey","commitsCount":24},{"username":"phacks","commitsCount":13},{"username":"Js-Brecht","commitsCount":17}],"commits":[{"from":"2021-08-25T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":15},{"from":"2021-08-02T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":123},{"from":"2021-06-03T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":489},{"from":"2021-03-05T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":999},{"from":"2020-09-01T00:00:00.000Z","to":"2021-09-01T00:00:00.000Z","count":2398}]},"source":{"files":{"readmeSize":4589,"testsSize":14656,"hasNpmIgnore":true,"hasChangelog":true},"badges":[{"urls":{"original":"https://circleci.com/gh/gatsbyjs/gatsby.svg?style=shield","service":"https://circleci.com/gh/gatsbyjs/gatsby.svg","shields":"https://img.shields.io/circleci/project/github/gatsbyjs/gatsby.svg","content":"https://img.shields.io/circleci/project/github/gatsbyjs/gatsby.json"},"info":{"service":"circleci","type":"build"}},{"urls":{"original":"https://img.shields.io/npm/v/gatsby.svg","shields":"https://img.shields.io/npm/v/gatsby.svg","content":"https://img.shields.io/npm/v/gatsby.json"},"info":{"service":"npm","type":"version","modifiers":{"type":"v"}}},{"urls":{"original":"https://img.shields.io/npm/dm/gatsby.svg","shields":"https://img.shields.io/npm/dm/gatsby.svg","content":"https://img.shields.io/npm/dm/gatsby.json"},"info":{"service":"npm","type":"downloads","modifiers":{"type":"dm"}}},{"urls":{"original":"https://img.shields.io/npm/dt/gatsby.svg","shields":"https://img.shields.io/npm/dt/gatsby.svg","content":"https://img.shields.io/npm/dt/gatsby.json"},"info":{"service":"npm","type":"downloads","modifiers":{"type":"dt"}}}],"linters":["editorconfig","eslint","prettier"]}},"evaluation":{"quality":{"carefulness":0.9999999999999999,"tests":0.3,"health":1,"branding":0.6},"popularity":{"communityInterest":62034,"downloadsCount":164313.33333333334,"downloadsAcceleration":-326.8846461187218,"dependentsCount":93},"maintenance":{"releasesFrequency":1,"commitsFrequency":1,"openIssues":1,"issuesDistribution":0.8106321368977067}},"score":{"final":0.7603382381029387,"detail":{"quality":0.882942428813433,"popularity":0.4159517925928375,"maintenance":0.9996353772897593}}}