{"analyzedAt":"2021-08-23T10:21:08.218Z","collected":{"metadata":{"name":"gatsby-plugin-algolia","scope":"unscoped","version":"0.22.1","description":"A gatsby plugin to push to Algolia based on a certain query","keywords":["gatsby","search","graphql","algolia","gatsby-plugin"],"date":"2021-08-23T07:25:49.906Z","author":{"name":"Algolia"},"publisher":{"username":"haroenv","email":"hello@haroen.me"},"maintainers":[{"username":"millotp","email":"millotpierre3@gmail.com"},{"username":"thomaslef","email":"thomas.lefevre@algolia.com"},{"username":"lukyvj","email":"lucas.bonomi@gmail.com"},{"username":"sepehrf","email":"sepehr9f@gmail.com"},{"username":"kosai106","email":"kevin@oesterkilde.dk"},{"username":"marielaure","email":"marie-laure.sin@algolia.com"},{"username":"redox","email":"sylvain.utard@gmail.com"},{"username":"mthuret","email":"mlthutrix@gmail.com"},{"username":"haroenv","email":"hello@haroen.me"},{"username":"rayrutjes","email":"raymond.rutjes@gmail.com"},{"username":"speedblue","email":"support@algolia.com"},{"username":"jerska","email":"matthieu.dumont@algolia.com"},{"username":"raphi","email":"raphael.daguenet@algolia.com"},{"username":"cbaptiste","email":"coquellebaptiste@gmail.com"},{"username":"ronanlevesque","email":"ronan.levesque@gmail.com"},{"username":"samouss","email":"samuel.vllnt@gmail.com"},{"username":"therealwebby","email":"alex@alexjwebb.com"},{"username":"francoischalifour","email":"francois.chalifour@gmail.com"},{"username":"jonmontane","email":"jon@stratus.one"},{"username":"mikaa123","email":"misokol123@gmail.com"},{"username":"valentindotxyz","email":"valentin@hey.com"},{"username":"shipow","email":"shipowlata@gmail.com"},{"username":"tkrugg","email":"contact@ymammar.com"},{"username":"seafoox","email":"seafoox@gmail.com"},{"username":"sylvainh","email":"sylvain.huprelle@algolia.com"},{"username":"clemfromspace","email":"clement.denoix@algolia.com"},{"username":"lorrissaintgenez","email":"lorris.saint-genez@algolia.com"},{"username":"broujo","email":"johann.broudin@gmail.com"},{"username":"marieglr","email":"marie.gillier@algolia.com"},{"username":"e-krebs","email":"emmanuel.krebs@algolia.com"},{"username":"eunjae-lee","email":"karis612@gmail.com"},{"username":"kombucha","email":"vincentlemeunier+npm@gmail.com"},{"username":"h1fra","email":"bodin.samuel@gmail.com"},{"username":"sylvain","email":"sylvain.bellone@gmail.com"},{"username":"crawler-team","email":"support+crawler@algolia.com"},{"username":"amcdaid106","email":"aoife.mcdaid@gmail.com"},{"username":"devinalgolia","email":"devin@algolia.com"},{"username":"dispix","email":"me@dispix.net"},{"username":"jvenezia","email":"veneziajeremy@gmail.com"},{"username":"otomatik","email":"thomas.dalous@gmail.com"},{"username":"julienbourdeau","email":"julien@sigerr.ch"},{"username":"sophiem03","email":"manley.sophie@gmail.com"},{"username":"mschreiber","email":"meschreiber3@gmail.com"},{"username":"sarahdayan","email":"hello@sarahdayan.com"},{"username":"alexandremeunier","email":"alexandre.meunier@gmail.com"},{"username":"dcoates","email":"dustin@dcoates.com"},{"username":"maximehuang","email":"maxime.huang@algolia.com"},{"username":"netgusto","email":"mail@jeromeschneider.fr"},{"username":"guitek","email":"guillaume.truchot@algolia.com"},{"username":"matthewbond","email":"matthew.bond@algolia.com"},{"username":"cyril.descossy","email":"cyril.descossy@algolia.com"},{"username":"tatsuro","email":"tatsuro.handa@algolia.com"},{"username":"danajeremy","email":"jeremy.dana@orange.fr"},{"username":"mathougui","email":"guillaume.dessain@algolia.com"},{"username":"xavdh","email":"xav.dhalluin@gmail.com"},{"username":"agdavid","email":"antonio.g.david@gmail.com"},{"username":"charbell","email":"charlesbellorini@gmail.com"},{"username":"rasemotte","email":"claire.helme-guizon@algolia.com"},{"username":"plnech","email":"dev@plnech.fr"},{"username":"shortcuts","email":"clement.vannicatte@algolia.com"},{"username":"praagyajoshi","email":"praagya.joshi@gmail.com"},{"username":"tomklotz","email":"tomklotz.pro@gmail.com"},{"username":"loicsay","email":"loic.say@algolia.com"},{"username":"svensoldin","email":"soldinsven@gmail.com"},{"username":"alphonseb","email":"alphonse.bouy@gmail.com"},{"username":"leodau","email":"bluedraggy@gmail.com"},{"username":"fabienmotte","email":"contact@fabienmotte.com"},{"username":"sarahfranc","email":"sarah.franc@algolia.com"}],"repository":{"type":"git","url":"git+https://github.com/algolia/gatsby-plugin-algolia.git"},"links":{"npm":"https://www.npmjs.com/package/gatsby-plugin-algolia","homepage":"https://github.com/algolia/gatsby-plugin-algolia#readme","repository":"https://github.com/algolia/gatsby-plugin-algolia","bugs":"https://github.com/algolia/gatsby-plugin-algolia/issues"},"license":"Apache-2.0","dependencies":{"algoliasearch":"^4.9.1","deep-equal":"^2.0.5","lodash.chunk":"^4.2.0"},"devDependencies":{"standard-version":"^4.4.0"},"peerDependencies":{"gatsby":"^2.0.0 || ^3.0.0"},"releases":[{"from":"2021-07-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":0},{"from":"2021-05-25T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":3},{"from":"2021-02-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":11},{"from":"2020-08-23T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":21},{"from":"2019-08-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":33}],"hasSelectiveFiles":true,"readme":"# Gatsby plugin Algolia\n\n> This plugin is in _beta_ and not officially supported yet\n>\n> Feel free to open issues for any questions or ideas\n\nYou can specify a list of queries to run and how to transform them into an array of objects to index. When you run `gatsby build`, it will publish those to Algolia.\n\nHere we have an example with some data that might not be very relevant, but will work with the default configuration of `gatsby new`\n\n```shell\nyarn add gatsby-plugin-algolia\n```\n\nFirst add credentials to a .env file, which you won't commit. If you track this in your file, and especially if the site is open source, you will leak your admin API key. This would mean anyone is able to change anything on your Algolia index.\n\n```shell\n// .env.production\nALGOLIA_APP_ID=XXX\nALGOLIA_API_KEY=XXX\nALGOLIA_INDEX_NAME=XXX\n```\n\n```js\nrequire('dotenv').config({\n  path: `.env.${process.env.NODE_ENV}`,\n});\n\n// gatsby-config.js\nconst myQuery = `{\n  pages: allSitePage {\n    nodes {\n      # try to find a unique id for each node\n      # if this field is absent, it's going to\n      # be inserted by Algolia automatically\n      # and will be less simple to update etc.\n      objectID: id\n      component\n      path\n      componentChunkName\n      jsonName\n      internal {\n        type\n        contentDigest\n        owner\n      }\n    }\n  }\n}`;\n\nconst queries = [\n  {\n    query: myQuery,\n    transformer: ({ data }) => data.pages.nodes, // optional\n    indexName: 'index name to target', // overrides main index name, optional\n    settings: {\n      // optional, any index settings\n      // Note: by supplying settings, you will overwrite all existing settings on the index\n    },\n    matchFields: ['slug', 'modified'], // Array<String> overrides main match fields, optional\n  },\n];\n\nmodule.exports = {\n  plugins: [\n    {\n      // This plugin must be placed last in your list of plugins to ensure that it can query all the GraphQL data\n      resolve: `gatsby-plugin-algolia`,\n      options: {\n        appId: process.env.ALGOLIA_APP_ID,\n        // Use Admin API key without GATSBY_ prefix, so that the key isn't exposed in the application\n        // Tip: use Search API key with GATSBY_ prefix to access the service from within components\n        apiKey: process.env.ALGOLIA_API_KEY,\n        indexName: process.env.ALGOLIA_INDEX_NAME, // for all queries\n        queries,\n        chunkSize: 10000, // default: 1000\n        settings: {\n          // optional, any index settings\n          // Note: by supplying settings, you will overwrite all existing settings on the index\n        },\n        enablePartialUpdates: true, // default: false\n        matchFields: ['slug', 'modified'], // Array<String> default: ['modified']\n        concurrentQueries: false, // default: true\n        skipIndexing: true, // default: false, useful for e.g. preview deploys or local development\n        continueOnFailure: false // default: false, don't fail the build if algolia indexing fails\n      },\n    },\n  ],\n};\n```\n\nThe index will be synchronised with the provided index name on Algolia on the `build` step in Gatsby. This is not done earlier to prevent you going over quota while developing.\n\n## Partial Updates\n\nBy default all records will be reindexed on every build. To enable only indexing the new, changed and deleted records include the following in the options of the plugin:\n\n```js\n  resolve: `gatsby-plugin-algolia`,\n  options: {\n    /* ... */\n    enablePartialUpdates: true,\n    /* (optional) Fields to use for comparing if the index object is different from the new one */\n    /* By default it uses a field called \"modified\" which could be a boolean | datetime string */\n    matchFields: ['slug', 'modified'], // Array<String> default: ['modified']\n  }\n```\n\nThis saves a lot of Algolia operations since you don't reindex everything on every build.\n\nAdding `matchFields` is useful to decide whether an object has been changed since the last time it was indexed. If you save e.g. a timestamp of the record, you can avoid reindexing when it has not changed.\n\nIf you have objects which come from another indexing process (wordpress, magento, shopify, custom script...), make sure that they do not have any of the `matchFields`, so they stay in the index regardless of reindex.\n\n### Advanced\n\nYou can also specify `matchFields` per query to check for different fields based on the type of objects you are indexing.\n\n## Settings\n\nYou can set settings for each index individually (per query), or otherwise it will keep your existing settings.\n\n### Replicas\n\nFor replica settings, extra care is taken to make sure only apply replicas to non-temporary indices.\n\nIf you pass `replicaUpdateMode: 'replace'` in the index settings, you can choose to update the replicas fully with those in the settings.\n\nIf you pass `replicaUpdateMode: 'merge'` in the index settings, the replica settings will combine the replicas set on your dashboard with the additional ones you set via index settings here.\n\n## Concurrent Queries\n\nSometimes, on limited platforms like Netlify, concurrent queries to the same index can lead to unexpected results or hanging builds. Setting `concurrentQueries` to `false` makes it such that queries are run sequentially rather than concurrently, which may solve some concurrent access issues. Be aware that this option may make indexing take longer than it would otherwise.\n\n## Transformer\n\nThe `transformer` field accepts a function and optionally you may provide an `async` function.\n\n## Feedback\n\nThis is the very first version of our plugin and isn't yet officially supported. Please leave all your feedback in GitHub issues 😊"},"npm":{"downloads":[{"from":"2021-08-22T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":609},{"from":"2021-08-16T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":13092},{"from":"2021-07-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":54135},{"from":"2021-05-25T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":185125},{"from":"2021-02-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":415784},{"from":"2020-08-23T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":776088}],"dependentsCount":19,"starsCount":0},"github":{"homepage":"https://yarn.pm/gatsby-plugin-algolia","starsCount":162,"forksCount":40,"subscribersCount":6,"issues":{"count":145,"openCount":10,"distribution":{"3600":16,"10800":7,"32400":6,"97200":24,"291600":23,"874800":15,"2624400":9,"7873200":15,"23619600":13,"70858800":14,"212576400":3},"isDisabled":false},"commits":[{"from":"2021-08-16T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":0},{"from":"2021-07-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":0},{"from":"2021-05-25T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":0},{"from":"2021-02-24T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":0},{"from":"2020-08-23T00:00:00.000Z","to":"2021-08-23T00:00:00.000Z","count":0}]},"source":{"files":{"readmeSize":5626,"testsSize":0,"hasChangelog":true},"linters":["prettier"]}},"evaluation":{"quality":{"carefulness":0.49999999999999994,"tests":0,"health":1,"branding":0},"popularity":{"communityInterest":208,"downloadsCount":61708.333333333336,"downloadsAcceleration":-34.5314687975648,"dependentsCount":19},"maintenance":{"releasesFrequency":1,"commitsFrequency":0,"openIssues":1,"issuesDistribution":0.23714723065787185}},"score":{"final":0.4536693713377054,"detail":{"quality":0.46789979363698486,"popularity":0.17029032439231284,"maintenance":0.7248509134551442}}}